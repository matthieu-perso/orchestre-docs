{"openapi":"3.0.2","info":{"title":"Orchestre","description":"\n<i>Orchestre</i> API helps you understand the system and makes you easier to consume the service.\n<i>Orchestre</i> system will automate the communication by using AI models.<br>\nThis connects with GMail and will add more 3rd party providers in future.<br>\n\nHere are some descriptions to help you understand the system.<br><br>\n<i>provider</i> : the service which the system supports for communication by using AI models.<br>\n<i>end-user</i> : the user which signs in the system.<br>\n<i>account</i>  : the end-user can have multiple accounts which provided by provider system.<br>\n<i>user</i>     : the user which the account communicates on the provider system.<br>\n","version":"0.1.0"},"paths":{"/users/me":{"get":{"tags":["users"],"summary":"Get end-user's info","description":"Get end-user's information after logged in, returns only email at this moment.","operationId":"me_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/users/token":{"post":{"tags":["users"],"summary":"Sign in end-user","description":"Sign in the end-user by using email/password.<br><br><i>username</i> : indicates the end-user's email address<br><i>password</i> : indicates the end-user's password<br>","operationId":"login_users_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_users_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/loginWithToken":{"post":{"tags":["users"],"summary":"Sign in end-user with 3rd party token","description":"Sign in the end-user by using OAuth2 token, support gmail sign-in at this moment.<br><br><i>token</i> : indicates the access_token generated by OAuth2 provider","operationId":"loginWithToken_users_loginWithToken_post","parameters":[{"required":true,"schema":{"title":"Token","type":"string"},"name":"token","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/signup":{"post":{"tags":["users"],"summary":"Sign up end-user","description":"Sign up the end-user by using email/password.<br><br><i>email</i> : indicates new end-user's email address<br><i>password</i> : indicates new end-user's password","operationId":"signup_users_signup_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_signup_users_signup_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/providers/get_my_providers":{"get":{"tags":["providers"],"summary":"Get the provider information for end-user","description":"This endpoint gets all provider associated information for end-user.<br>This will return the registered accounts for the end-user, those AI bot's status, system support provider information","operationId":"get_my_providers_providers_get_my_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/get_providers":{"get":{"tags":["providers"],"summary":"Get the system support provider information","description":"This endpoint will return all provider information registered in the system","operationId":"get_providers_providers_get_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/google_auth":{"get":{"tags":["providers"],"summary":"The endpoint for Google authentication","description":"This endpoint is registered on the Google Cloud platform.<br>When new Gmail provider account is authenticated, this endpoint is called by Google cloud platform with authenticate code","operationId":"google_auth_providers_google_auth_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/providers/link_provider":{"get":{"tags":["providers"],"summary":"Link the account for specific provider","description":"This endpoint is used to link the account which supported by provider.<br><br><i>provider_name</i> : indicates the provider such as 'gmailprovider' or 'whatsappprovider'<br><i>redirect_url</i> : indicates the url which returns with <i>access_token</i> and <i>refresh_token</i><br>","operationId":"link_Provider_providers_link_provider_get","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Redirect Url","type":"string","default":"http://localhost:3000/callback/oauth"},"name":"redirect_url","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/providers/unlink_provider":{"get":{"tags":["providers"],"summary":"Unlink the account for specific provider","description":"This endpoint is used to unlink the account which specified by provider and identifier name.<br><br><i>provider_name</i> : indicates the provider such as 'gmailprovider' or 'whatsappprovider' <br><i>identifier_name</i> : indicates the account name<br>","operationId":"unlink_Provider_providers_unlink_provider_get","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":"john doe"},"name":"identifier_name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/update_provider_info":{"post":{"tags":["providers"],"summary":"Update the account's information","description":"This endpoint is used to update information for specific account.<br><br><i>provider_name</i> : indicates the provider such as 'gmailprovider' or 'whatsappprovider' <br><i>identifier_name</i> : indicates the account name<br><i>social_info</i> : indicates the account information, JSON-parseable string","operationId":"update_provider_info_providers_update_provider_info_post","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":"john doe"},"name":"identifier_name","in":"query"},{"required":false,"schema":{"title":"Social Info","type":"string","default":""},"name":"social_info","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/bots/start_auto_bot":{"post":{"tags":["bots"],"summary":"Start AI bot","description":"Start automatic AI chat bot for the account which is specified by the provider and identifer name","operationId":"start_auto_bot_bots_start_auto_bot_post","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":"john doe"},"name":"identifier_name","in":"query"},{"required":false,"schema":{"title":"Interval Seconds","type":"integer","default":25},"name":"interval_seconds","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/bots/stop_auto_bot":{"post":{"tags":["bots"],"summary":"Stop AI bot","description":"Stop AI chat bot for the account which is specified by provider and identifier name","operationId":"stop_auto_bot_bots_stop_auto_bot_post","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":"john doe"},"name":"identifier_name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/bots/status_auto_bot":{"post":{"tags":["bots"],"summary":"Status AI bot","description":"Get the current automatic AI chat bot's status. if running, returns TRUE, or FALSE","operationId":"status_auto_bot_bots_status_auto_bot_post","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":"john doe"},"name":"identifier_name","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/messages/get_last_message":{"get":{"tags":["messages"],"summary":"Get last message of the account","description":"This endpoint is used to get last message of the account which specified by provider and identifier name.<br><br><i>provider_name</i> : indicates the provider name such as 'gmailprovider' or 'whatsappprovider'<br><i>identifier_name</i> : indicates the account name<br><i>access_token</i> : indicates the access_token of the account<br><i>option</i> : indicates the additional option as JSON parsable string<br>","operationId":"get_last_message_messages_get_last_message_get","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":""},"name":"identifier_name","in":"query"},{"required":false,"schema":{"title":"Access Token","type":"string","default":""},"name":"access_token","in":"query"},{"required":false,"schema":{"title":"Option","type":"string","default":""},"name":"option","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/messages/get_full_messages":{"get":{"tags":["messages"],"summary":"Get some messages of the account","description":"This endpoint is used to get some messages of the account which specified by provider and identifier name.<br><br><i>provider_name</i> : indicates the provider name such as 'gmailprovider' or 'whatsappprovider'<br><i>identifier_name</i> : indicates the account name<br><i>access_token</i> : indicates the access_token of the account<br><i>of_what</i> : indicates the message_id in the provider<br><i>option</i> : indicates the additional option as JSON parsable string<br>","operationId":"get_full_message_messages_get_full_messages_get","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":""},"name":"identifier_name","in":"query"},{"required":false,"schema":{"title":"Access Token","type":"string","default":""},"name":"access_token","in":"query"},{"required":false,"schema":{"title":"Of What","type":"string","default":"message_id"},"name":"of_what","in":"query"},{"required":false,"schema":{"title":"Option","type":"string","default":""},"name":"option","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/messages/get_messages":{"get":{"tags":["messages"],"summary":"Get some messages of the account","description":"This endpoint it used to get some messages of the account which specified by provider and identifier name.<br><br><i>provider_name</i> : indicates the provider name such as 'gmailprovider' or 'whatsappprovider'<br><i>identifier_name</i> : indicates the account name<br><i>access_token</i> : indicates the access_token of the account<br><i>from_when</i> : indicates the time of the first message<br><i>count</i> : indicates the message count<br><i>option</i> : indicates the additional option as JSON parsable string<br>","operationId":"get_messages_messages_get_messages_get","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":""},"name":"identifier_name","in":"query"},{"required":false,"schema":{"title":"Access Token","type":"string","default":""},"name":"access_token","in":"query"},{"required":false,"schema":{"title":"From When","type":"string","default":"2023/05/27 03:00:00"},"name":"from_when","in":"query"},{"required":false,"schema":{"title":"Count","type":"integer","default":1},"name":"count","in":"query"},{"required":false,"schema":{"title":"Option","type":"string","default":""},"name":"option","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/messages/reply_to_message":{"post":{"tags":["messages"],"summary":"Reply message to the account","description":"This endpoint is usded to reply message to the account which specified by provider and identifier name<br><br><i>provider_name</i> : indicates the provider name such as 'gmailprovider' or 'whatsappprovider'<br><i>identifier_name</i> : indicates the account name<br><i>access_token</i> : indicates the access_token of the account<br><i>to</i> : indicates something is used to specify the message, i,e) messageId in GMailProvider<br><i>option</i> : indicates the additional option as JSON parsable string<br>","operationId":"reply_to_message_messages_reply_to_message_post","parameters":[{"required":false,"schema":{"title":"Provider Name","type":"string","default":"gmailprovider"},"name":"provider_name","in":"query"},{"required":false,"schema":{"title":"Identifier Name","type":"string","default":""},"name":"identifier_name","in":"query"},{"required":false,"schema":{"title":"Access Token","type":"string","default":""},"name":"access_token","in":"query"},{"required":false,"schema":{"title":"To","type":"string","default":""},"name":"to","in":"query"},{"required":false,"schema":{"title":"Message","type":"string","default":""},"name":"message","in":"query"},{"required":false,"schema":{"title":"Option","type":"string","default":""},"name":"option","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/probe":{"get":{"summary":"Probe","operationId":"probe_probe_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_login_users_token_post":{"title":"Body_login_users_token_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"Body_signup_users_signup_post":{"title":"Body_signup_users_signup_post","required":["email","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"email":{"title":"Email","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/users/token"}}}}}}
